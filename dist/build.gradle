/*
 * Copyright Terracotta, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

plugins {
  id 'org.ehcache.build.shading'
  id 'maven-publish'
  id 'biz.aQute.bnd.builder'
}

group = 'org.ehcache'
archivesBaseName = 'ehcache'

dependencies {
  compile project(':api')
  compile project(':core')
  compile project(':impl')
  compile project(':107')
  compile project(':xml')

  shadow "org.slf4j:slf4j-api:$parent.slf4jVersion"
  shadow "org.glassfish.jaxb:jaxb-runtime:$parent.jaxbVersion"
  providedShadow "javax.cache:cache-api:$parent.jcacheVersion"
}

jar {
  bnd (
    'Bundle-Name': 'Ehcache 3',
    'Bundle-SymbolicName': 'org.ehcache',
    'Bundle-Description': 'Ehcache is an open-source caching library, compliant with the JSR-107 standard.',

    'Bundle-Activator': 'org.ehcache.core.osgi.EhcacheActivator',
    'Export-Package': '!org.ehcache.jsr107.tck, !org.ehcache.*.internal.*, org.ehcache.*, org.terracotta.statistics.*, org.terracotta.context',
    'Import-Package': 'javax.cache.*;resolution:=optional, !javax.annotation, !sun.misc, *'
  )
}
